{"ast":null,"code":"var _jsxFileName = \"/Users/yang/Downloads/\\u51C6\\u5907\\u9762\\u8BD5/reactProject/gitrepo excercise/excercises-bookings/src/components/search.component.js\";\nimport React, { Component } from 'react';\nimport UserList from './users-list.component';\nimport axios from 'axios';\n\nconst User = props => React.createElement(\"tr\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 6\n  },\n  __self: this\n}, React.createElement(\"td\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 7\n  },\n  __self: this\n}, props.user.username), React.createElement(\"td\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 8\n  },\n  __self: this\n}, props.user.gender), React.createElement(\"td\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 9\n  },\n  __self: this\n}, React.createElement(Link, {\n  to: \"/editUser/\" + props.user.name,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 10\n  },\n  __self: this\n}, \"edit\"), \" | \", React.createElement(\"a\", {\n  href: \"#\",\n  onClick: () => {\n    props.deleteUser(props.user.name);\n  },\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 10\n  },\n  __self: this\n}, \"delete\")));\n\nexport default class Search extends Component {\n  constructor() {\n    super();\n\n    this.updateSearch = e => {\n      e.preventDefault();\n      this.setState({\n        search: e.target.value\n      });\n      console.log(e.target.value);\n    };\n\n    this.getSearch = e => {\n      e.preventDefault();\n      this.setState({\n        search: e.target.value\n      });\n      console.log('end search: ' + this.state.search);\n      axios.get('http://localhost:63448/users/' + name).then(response => {\n        this.setState({\n          users: response.data\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.state = {\n      search: ' ',\n      query: ''\n    };\n    console.log('init search: ' + this.state.search);\n    this.updateSearch = this.updateSearch.bind();\n    this.getSearch = this.getSearch.bind();\n  }\n\n  deleteUser(name) {\n    axios.delete('http://localhost:63448/users/' + name).then(res => console.log(res.data));\n    this.setState({\n      users: this.state.users.filter(el => el.name !== name)\n    });\n  }\n\n  userList() {\n    return this.state.search.map(currentuser => {\n      return React.createElement(User, {\n        user: currentuser,\n        deleteUser: this.deleteUser,\n        key: currentuser._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"APP\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"search-form\",\n      onSubmit: this.getSearch,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"search-bar\",\n      type: \"text\",\n      value: this.state.search || \"\",\n      onChange: this.updateSearch,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"search-button\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"Search\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, this.userList()));\n  }\n\n}","map":{"version":3,"sources":["/Users/yang/Downloads/准备面试/reactProject/gitrepo excercise/excercises-bookings/src/components/search.component.js"],"names":["React","Component","UserList","axios","User","props","user","username","gender","name","deleteUser","Search","constructor","updateSearch","e","preventDefault","setState","search","target","value","console","log","getSearch","state","get","then","response","users","data","catch","error","query","bind","delete","res","filter","el","userList","map","currentuser","_id","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport UserList from './users-list.component';\nimport axios from 'axios';\n\nconst User = props => (\n    <tr>\n      <td>{props.user.username}</td>\n      <td>{props.user.gender}</td>\n      <td>\n        <Link to={\"/editUser/\"+props.user.name}>edit</Link> | <a href=\"#\" onClick={() => { props.deleteUser(props.user.name) }}>delete</a>\n      </td>\n    </tr>\n)\n\nexport default class Search extends Component{\n\n    constructor(){\n        super();\n        this.state = {\n            search:' ',\n            query:'',\n        };\n        console.log('init search: ' + this.state.search);\n        this.updateSearch = this.updateSearch.bind();\n        this.getSearch = this.getSearch.bind();\n    }\n\n    updateSearch = e => {\n        e.preventDefault();\n        this.setState({\n            search: e.target.value,\n        });\n        console.log(e.target.value);\n    }\n    deleteUser(name) {\n        axios.delete('http://localhost:63448/users/'+name)\n          .then(res => console.log(res.data));\n        this.setState({\n          users: this.state.users.filter(el => el.name !== name)\n        })\n    }\n    getSearch = e => {\n        e.preventDefault();\n        this.setState({\n            search: e.target.value,\n        });\n        console.log('end search: ' + this.state.search);\n        axios.get('http://localhost:63448/users/' + name)\n            .then(response => {\n            this.setState({ users: response.data });\n            })\n            .catch((error) => {\n            console.log(error);\n            })\n    }\n    userList(){\n        return this.state.search.map(currentuser => {\n            return <User user={currentuser} deleteUser={this.deleteUser} key={currentuser._id}/>;\n        })\n    }\n    render(){\n        return (\n            <div className=\"APP\">\n              <form className=\"search-form\" onSubmit={this.getSearch} >\n                <input \n                  className=\"search-bar\" \n                  type=\"text\" \n                  value={this.state.search ||\"\"}\n                  onChange={this.updateSearch} \n                />\n                <button className=\"search-button\" type=\"submit\" >\n                    Search\n                </button>\n            </form>\n\n            <div>\n                { this.userList() }\n            </div>\n            \n            </div>\n          );\n    }\n    \n    \n}"]},"metadata":{},"sourceType":"module"}