{"ast":null,"code":"var _jsxFileName = \"/Users/yang/Downloads/\\u51C6\\u5907\\u9762\\u8BD5/reactProject/gitrepo excercise/excercises-bookings/src/components/search.component.js\";\nimport React, { useState, useEffect, TableRow } from \"react\";\nimport Recipe from \"./recipe.component\";\nimport '../App.css';\nimport axios from 'axios';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport clsx from 'clsx';\nimport { Component } from \"react\";\nconst useStyles = makeStyles(theme => ({\n  formControl: {\n    margin: theme.spacing(3)\n  }\n})); // Inspired by blueprintjs\n\nfunction StyledRadio(props) {\n  const classes = useStyles();\n  return React.createElement(Radio, Object.assign({\n    className: classes.root,\n    disableRipple: true,\n    color: \"default\",\n    checkedIcon: React.createElement(\"span\", {\n      className: clsx(classes.icon, classes.checkedIcon),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }),\n    icon: React.createElement(\"span\", {\n      className: classes.icon,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    })\n  }, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }));\n}\n\nconst APP_ID = \"69c97021\";\nconst APP_KEY = \"aeb10d6b6fa84e615dc7361c08b1836f\";\n\nclass Search extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getRecipes = async () => {\n      const response = await fetch(`https://api.edamam.com/search?q=${this.state.query}&app_id=${APP_ID}&app_key=${APP_KEY}`);\n      const data = await response.json();\n      this.setState({\n        recipes: data.hits\n      });\n      console.log('recipe:' + this.state.recipes);\n    };\n\n    this.updateSearch = e => {\n      this.setState({\n        search: e.target.value\n      });\n      console.log('search:' + this.state.search);\n    };\n\n    this.getSearch = e => {\n      e.preventDefault();\n      this.setState({\n        search: e.target.value\n      });\n    };\n\n    this.handleChange = event => {\n      this.setState({\n        value: event.target.value\n      });\n    };\n\n    this.state = {\n      recipes: [],\n      search: '',\n      query: 'chicken',\n      users: '',\n      value: 'female',\n      user: []\n    };\n    this.getRecipes = this.getRecipes.bind();\n    this.getSearch = this.getSearch.bind();\n    this.updateSearch = this.updateSearch.bind();\n    this.handleChange = this.handleChange.bind();\n  }\n\n  componentDidMount() {\n    axios.get('http://localhost:63448/users/').then(response => {\n      this.setState({\n        user: response.data\n      });\n      console.log('response.data:' + response.data[0].username);\n    }).catch(error => {\n      console.log(error);\n    });\n    console.log(\"users:\" + this.state.user);\n    this.getRecipes();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"APP\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"search-form\",\n      onSubmit: this.getSearch,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"search-bar\",\n      type: \"text\",\n      value: this.state.search,\n      onChange: this.updateSearch,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"search-button\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"Search\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(FormControl, {\n      component: \"fieldset\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(FormLabel, {\n      component: \"legend\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"Gender\"), React.createElement(RadioGroup, {\n      defaultValue: \"female\",\n      \"aria-label\": \"gender\",\n      name: \"customized-radios\",\n      value: this.state.value,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(FormControlLabel, {\n      value: \"\",\n      control: React.createElement(StyledRadio, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }),\n      label: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"foodGrid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, this.state.recipes.map(recipe => React.createElement(Recipe, {\n      key: recipe.recipe.uri,\n      title: recipe.recipe.label,\n      calories: recipe.recipe.calories,\n      image: recipe.recipe.image,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["/Users/yang/Downloads/准备面试/reactProject/gitrepo excercise/excercises-bookings/src/components/search.component.js"],"names":["React","useState","useEffect","TableRow","Recipe","axios","makeStyles","Radio","RadioGroup","FormHelperText","FormControlLabel","FormControl","FormLabel","clsx","Component","useStyles","theme","formControl","margin","spacing","StyledRadio","props","classes","root","icon","checkedIcon","APP_ID","APP_KEY","Search","constructor","getRecipes","response","fetch","state","query","data","json","setState","recipes","hits","console","log","updateSearch","e","search","target","value","getSearch","preventDefault","handleChange","event","users","user","bind","componentDidMount","get","then","username","catch","error","render","map","recipe","uri","label","calories","image"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, TableRow} from \"react\";\nimport Recipe from  \"./recipe.component\";\nimport '../App.css';\nimport axios from 'axios';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Radio from '@material-ui/core/Radio';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport clsx from 'clsx';\nimport { Component } from \"react\";\n\nconst useStyles = makeStyles(theme => ({\n    formControl: {\n      margin: theme.spacing(3),\n    },\n}));\n\n// Inspired by blueprintjs\nfunction StyledRadio(props) {\n    const classes = useStyles();\n  \n    return (\n      <Radio\n        className={classes.root}\n        disableRipple\n        color=\"default\"\n        checkedIcon={<span className={clsx(classes.icon, classes.checkedIcon)} />}\n        icon={<span className={classes.icon} />}\n        {...props}\n      />\n    );\n  }\n\nconst APP_ID = \"69c97021\";\nconst APP_KEY = \"aeb10d6b6fa84e615dc7361c08b1836f\";\n\nclass Search  extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            recipes:[],\n            search: '',\n            query: 'chicken',\n            users: '',\n            value: 'female',\n            user: []\n        }\n        this.getRecipes = this.getRecipes.bind();\n        this.getSearch = this.getSearch.bind();\n        this.updateSearch = this.updateSearch.bind();\n        this.handleChange = this.handleChange.bind();\n    }\n\n    componentDidMount(){\n        axios.get('http://localhost:63448/users/')\n            .then(response => {\n                this.setState( {user:response.data } );\n                console.log('response.data:' +response.data[0].username);\n            })\n            .catch((error) => {\n            console.log(error);\n        });\n        console.log(\"users:\"+ this.state.user);\n        this.getRecipes();\n        \n    }\n    \n\n    \n    \n    getRecipes = async () => {\n      const response = await fetch(\n        `https://api.edamam.com/search?q=${this.state.query}&app_id=${APP_ID}&app_key=${APP_KEY}`\n      );\n      const data = await response.json();\n      this.setState({recipes: data.hits});\n      console.log('recipe:' + this.state.recipes);\n    };\n  \n    updateSearch = e => {\n      this.setState({ search: e.target.value});\n      console.log('search:' + this.state.search);\n    }\n  \n    getSearch = e => {\n      e.preventDefault();\n      this.setState({ search: e.target.value});\n\n    }\n  \n\n    handleChange = event => {\n        this.setState({value:event.target.value});\n    };\n\n    \n    \n    render(){\n        return (\n            <div className=\"APP\">\n                <form className=\"search-form\" onSubmit={this.getSearch} >\n                <input \n                    className=\"search-bar\" \n                    type=\"text\" \n                    value={this.state.search}\n                    onChange={this.updateSearch} \n                />\n                <button className=\"search-button\" type=\"submit\" >\n                    Search\n                </button>\n                </form>\n                <div>\n                    <FormControl component=\"fieldset\">\n                        <FormLabel component=\"legend\">Gender</FormLabel>\n                        <RadioGroup defaultValue=\"female\" aria-label=\"gender\" name=\"customized-radios\" value={this.state.value} onChange={this.handleChange}>\n                            \n                                <FormControlLabel \n                                    value='' \n                                    control={<StyledRadio />} \n                                    label= '1'\n                                />\n                            \n                            \n                        </RadioGroup>\n                    </FormControl>\n                    <div className=\"foodGrid\" >\n                        {this.state.recipes.map(recipe  => (\n                        <Recipe \n                            key = {recipe.recipe.uri} \n                            title={recipe.recipe.label} \n                            calories={recipe.recipe.calories} \n                            image={recipe.recipe.image} \n                        />\n                        ))}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n  }\nexport default Search;"]},"metadata":{},"sourceType":"module"}