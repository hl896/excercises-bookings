{"ast":null,"code":"import _classCallCheck from\"/Users/yang/Downloads/\\u51C6\\u5907\\u9762\\u8BD5/reactProject/mern-excercise-tracker/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/yang/Downloads/\\u51C6\\u5907\\u9762\\u8BD5/reactProject/mern-excercise-tracker/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/yang/Downloads/\\u51C6\\u5907\\u9762\\u8BD5/reactProject/mern-excercise-tracker/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/yang/Downloads/\\u51C6\\u5907\\u9762\\u8BD5/reactProject/mern-excercise-tracker/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/yang/Downloads/\\u51C6\\u5907\\u9762\\u8BD5/reactProject/mern-excercise-tracker/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/yang/Downloads/\\u51C6\\u5907\\u9762\\u8BD5/reactProject/mern-excercise-tracker/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Link}from'react-router-dom';import axios from'axios';var User=function User(props){return React.createElement(\"tr\",null,React.createElement(\"td\",null,props.user.username),React.createElement(\"td\",null,props.user.gender),React.createElement(\"td\",null,React.createElement(Link,{to:\"/editUser/\"+props.user._id},\"edit\"),\" | \",React.createElement(\"a\",{href:\"#\",onClick:function onClick(){props.deleteUser(props.user._id);}},\"delete\")));};var UsersList=/*#__PURE__*/function(_Component){_inherits(UsersList,_Component);function UsersList(props){var _this;_classCallCheck(this,UsersList);_this=_possibleConstructorReturn(this,_getPrototypeOf(UsersList).call(this,props));_this.deleteUser=_this.deleteUser.bind(_assertThisInitialized(_this));_this.state={users:[]};return _this;}_createClass(UsersList,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get('http://localhost:5000/users/').then(function(response){_this2.setState({users:response.data});}).catch(function(error){console.log(error);});}},{key:\"deleteUser\",value:function deleteUser(id){axios.delete('http://localhost:5000/users/'+id).then(function(res){return console.log(res.data);});this.setState({users:this.state.users.filter(function(el){return el._id!==id;})});}},{key:\"userList\",value:function userList(){var _this3=this;return this.state.users.map(function(currentuser){return React.createElement(User,{user:currentuser,deleteUser:_this3.deleteUser,key:currentuser._id});});}},{key:\"render\",value:function render(){return React.createElement(\"div\",null,React.createElement(\"h3\",null,\"Logged Users\"),React.createElement(\"table\",{className:\"table\"},React.createElement(\"thead\",{className:\"thead-light\"},React.createElement(\"tr\",null,React.createElement(\"th\",null,\"Username\"),React.createElement(\"th\",null,\"Gender\"))),React.createElement(\"tbody\",null,this.userList())));}}]);return UsersList;}(Component);export{UsersList as default};","map":{"version":3,"sources":["/Users/yang/Downloads/准备面试/reactProject/mern-excercise-tracker/src/components/users-list.component.js"],"names":["React","Component","Link","axios","User","props","user","username","gender","_id","deleteUser","UsersList","bind","state","users","get","then","response","setState","data","catch","error","console","log","id","delete","res","filter","el","map","currentuser","userList"],"mappings":"4/BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,CAAAC,KAAK,QACd,+BACE,8BAAKA,KAAK,CAACC,IAAN,CAAWC,QAAhB,CADF,CAEE,8BAAKF,KAAK,CAACC,IAAN,CAAWE,MAAhB,CAFF,CAGE,8BACE,oBAAC,IAAD,EAAM,EAAE,CAAE,aAAaH,KAAK,CAACC,IAAN,CAAWG,GAAlC,SADF,OACuD,yBAAG,IAAI,CAAC,GAAR,CAAY,OAAO,CAAE,kBAAM,CAAEJ,KAAK,CAACK,UAAN,CAAiBL,KAAK,CAACC,IAAN,CAAWG,GAA5B,EAAkC,CAA/D,WADvD,CAHF,CADc,EAAlB,C,GAUqBE,CAAAA,S,mEACjB,mBAAYN,KAAZ,CAAmB,2CACf,2EAAMA,KAAN,GACA,MAAKK,UAAL,CAAkB,MAAKA,UAAL,CAAgBE,IAAhB,+BAAlB,CACA,MAAKC,KAAL,CAAa,CAACC,KAAK,CAAE,EAAR,CAAb,CAHe,aAIlB,C,mFACmB,iBAChBX,KAAK,CAACY,GAAN,CAAU,8BAAV,EACEC,IADF,CACO,SAAAC,QAAQ,CAAI,CAChB,MAAI,CAACC,QAAL,CAAc,CAAEJ,KAAK,CAAEG,QAAQ,CAACE,IAAlB,CAAd,EACD,CAHF,EAIEC,KAJF,CAIQ,SAACC,KAAD,CAAW,CACfC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACF,CANF,EAOH,C,8CACUG,E,CAAI,CACXrB,KAAK,CAACsB,MAAN,CAAa,+BAA+BD,EAA5C,EACGR,IADH,CACQ,SAAAU,GAAG,QAAIJ,CAAAA,OAAO,CAACC,GAAR,CAAYG,GAAG,CAACP,IAAhB,CAAJ,EADX,EAEA,KAAKD,QAAL,CAAc,CACZJ,KAAK,CAAE,KAAKD,KAAL,CAAWC,KAAX,CAAiBa,MAAjB,CAAwB,SAAAC,EAAE,QAAIA,CAAAA,EAAE,CAACnB,GAAH,GAAWe,EAAf,EAA1B,CADK,CAAd,EAGH,C,2CACU,iBACP,MAAO,MAAKX,KAAL,CAAWC,KAAX,CAAiBe,GAAjB,CAAqB,SAAAC,WAAW,CAAI,CACvC,MAAO,qBAAC,IAAD,EAAM,IAAI,CAAEA,WAAZ,CAAyB,UAAU,CAAE,MAAI,CAACpB,UAA1C,CAAsD,GAAG,CAAEoB,WAAW,CAACrB,GAAvE,EAAP,CACH,CAFM,CAAP,CAGH,C,uCACQ,CACL,MACI,gCACI,6CADJ,CAEI,6BAAO,SAAS,CAAC,OAAjB,EACI,6BAAO,SAAS,CAAC,aAAjB,EACI,8BACI,yCADJ,CAEI,uCAFJ,CADJ,CADJ,CAOI,iCACM,KAAKsB,QAAL,EADN,CAPJ,CAFJ,CADJ,CAiBH,C,uBA7CkC9B,S,SAAlBU,S","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nconst User = props => (\n    <tr>\n      <td>{props.user.username}</td>\n      <td>{props.user.gender}</td>\n      <td>\n        <Link to={\"/editUser/\"+props.user._id}>edit</Link> | <a href=\"#\" onClick={() => { props.deleteUser(props.user._id) }}>delete</a>\n      </td>\n    </tr>\n)\n\nexport default class UsersList extends Component {\n    constructor(props) {\n        super(props);\n        this.deleteUser = this.deleteUser.bind(this);\n        this.state = {users: []};\n    }\n    componentDidMount() {\n        axios.get('http://localhost:5000/users/')\n         .then(response => {\n           this.setState({ users: response.data });\n         })\n         .catch((error) => {\n            console.log(error);\n         })\n    }\n    deleteUser(id) {\n        axios.delete('http://localhost:5000/users/'+id)\n          .then(res => console.log(res.data));\n        this.setState({\n          users: this.state.users.filter(el => el._id !== id)\n        })\n    }\n    userList() {\n        return this.state.users.map(currentuser => {\n            return <User user={currentuser} deleteUser={this.deleteUser} key={currentuser._id}/>;\n        })\n    }\n    render() {\n        return (\n            <div>\n                <h3>Logged Users</h3>\n                <table className=\"table\">\n                    <thead className=\"thead-light\">\n                        <tr>\n                            <th>Username</th>\n                            <th>Gender</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        { this.userList() }\n                    </tbody>\n                </table>\n            </div>\n            \n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}